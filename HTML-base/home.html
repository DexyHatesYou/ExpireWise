<!DOCTYPE html>
<html>
<head>
  <style>
    @font-face { font-family: g; src: url('hwyuenei64.ttf'); }
      

      .g{
        font-family: g;
      }

      body {
      background-color: #BFCBCE;
      overflow: hidden;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      user-select: none;
      animation: load 0.4s ease-in forwards;
    }

    .load{
      animation: load 0.6s ease-in forwards;
    }

    .unload{
      animation: unload 0.6s ease-in forwards;
    }

    @keyframes load {
      from { opacity: 0%; }
      to { opacity: 100% } 
    }

  @keyframes unload {
      from { opacity: 100%; }
      to { opacity: 0% } 
    }

    .d2 {
      opacity: 0;
    }

  input:focus {
       outline: 2px dashed #303655;  
       box-shadow: inset 0 0 0 2px white;
    }

    .searchBar {
      position: absolute;
      width: 50%;
      height: 6%;
      border-radius: 50px;
      padding-left: 5%;
      left: 5%;
      font-size: 140%;
      top: 8%;
    }

  .filter{
    height: 6.5%;
    aspect-ratio: 1 / 1;
    position: absolute;
    top: 8%;
    left: 64%;
    border-radius: 50px;
  }

    .sort{
    height: 6.5%;
    aspect-ratio: 1 / 1;
    position: absolute;
    top: 8%;
    left: 81%;
    border-radius: 50px;
  }

.container {
    border-top: 3%;
    width: 100%;
    height: 75%;
    overflow-y: scroll;
    scrollbar-width: none;
    position: absolute;
    top: 13%;
}
.segment {
    width: 90%;
    height: 20%;
    margin: 0 auto 10px;
    background-color: white;
    border-radius: 25px;
    box-shadow: 0px 0px 10px 0px #888888;
    display: flex;
}

.blur1 {
  width: 120%;
  height: 5%;
  background-color: #BFCBCE;
  position: absolute;
  box-shadow: 0px 0px 20px 20px #BFCBCE;
  z-index: 100;
  top: 11%;
}

.blur2 {
  width: 120%;
  height: 5%;
  background-color: #BFCBCE;
  position: absolute;
  box-shadow: 0px 0px 20px 20px #BFCBCE;
  z-index: 100;
  top: 88%;
}

.topBar {
  z-index: 200;
}

.rcp-img {
  padding: -3px;
  height: 100%;
  aspect-ratio: 1 / 1;
  border-radius: 25px;
  border-radius: 25px 0px 0px 25px;
  mask-image: linear-gradient(to right, rgba(0, 0, 0, 1) 70%, rgba(0, 0, 0, 0));
  object-fit: cover;
}

.rcp-name {
  color:  #7DA7BD;
  margin-top: 10px;
  margin-bottom: 5px;
  text-decoration: underline;
  text-decoration-thickness: 2px;
  white-space: nowrap;
}

.mark{
  font-size: 90%;
  background-color: #BFCBCE;
  color: white;
  padding: 2px 10px 2px 10px;
  border-radius: 50px;
  border-top: 15px;
}

.seafood{
  background-color: #7DA7BD;
}

.ingr{
  background-color: #8e9a9e;
}

.war{
  background-color: red;
}

.spacer{
  font-size: 50%;
}

.dexp{
  left: 18%;
  position: relative;
  font-size: 90%;
}

.dleft{
  font-size: 120%;
  color: #a57878;
}

.beef {
  background-color: #D9534F;
}

.chicken {
  background-color: #F0AD4E;
}

.dessert {
  background-color: #EFD9CE;
}

.lamb {
  background-color: #C1A183;
}

.miscellaneous {
  background-color: #5BC0DE;
}

.pasta {
  background-color: #D7BFA6;
}

.pork {
  background-color: #FFBB93;
}

.seafood {
  background-color: #7DA7BD;
}

.side {
  background-color: #A0D8EF;
}

.starter {
  background-color: #D4A5A5;
}

.vegan {
  background-color: #8CC84B;
}

.vegetarian {
  background-color: #A3C47D;
}

.breakfast {
  background-color: #FFD97D;
}

.goat {
  background-color: #A4876C;
}


  </style>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ExpireWise</title>
</head>
<body class="g">
<div class="topBar">
<input type="text" name="search" class="searchBar g">
<button class="filter"></button>
<button class="sort"></button>
</div>
<div class="blur1"></div>
<div class="container">
  <br><br>

  <div class="segment">
    <img class="rcp-img" src="https://www.themealdb.com/images/media/meals/7n8su21699013057.jpg" alt="recipe photo">
    <div class="rcp-part">
    <h3 class="rcp-name">Fish Soup (Ukha)</h3>
    <span class="mark seafood">Seafood</span>
    <span class="mark">Russian</span><br><p class="spacer"></p>
    <span class="mark ingr">9 ingredients</span>
    <span class="mark war">2!</span><br><p class="spacer"></p>
    <span class="dexp">Expires in:<span class="dleft">&nbsp;2 Days</span></span>
  </div>
  </div>

</div>
<div class="blur2"></div>


</body>
<script>
var rnd = 0;
const container = document.querySelector('.container');

async function getMeals() {
  try {
    
    var respApi = await fetch('https://www.themealdb.com/api/json/v1/1/filter.php?i=flour');
    var data = await respApi.json();

    
    for (const meal of data.meals) {
      const detailResp = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${meal.idMeal}`);
      const detailData = await detailResp.json();
      const mealDetails = detailData.meals[0];

      // Counting ingrs 
      let ingredientCount = 0;
      for (let i = 1; i <= 20; i++) {
        if (mealDetails[`strIngredient${i}`]) {
          ingredientCount++;
        }
      }

      //REWORK!!! just random for now.
      rnd = Math.floor(Math.random() * (6 - 0 + 1)) + 0;
      
      const segment = document.createElement('div');
      segment.classList.add('segment');

      segment.innerHTML = `
        <img class="rcp-img" src="${meal.strMealThumb}" alt="recipe photo">
        <div class="rcp-part">
          <h3 class="rcp-name">${meal.strMeal}</h3>
          <span class="mark ${mealDetails.strCategory.toLowerCase()}">${mealDetails.strCategory}</span>
          <span class="mark">${mealDetails.strArea}</span><br><p class="spacer"></p>
          <span class="mark ingr">${ingredientCount} ingredients</span>
          <span class="mark war">${rnd}!</span><br><p class="spacer"></p>
          <span class="dexp">Expires in:<span class="dleft">&nbsp;2 Days</span></span>
        </div>
      `;

      
      container.appendChild(segment);
    }
  } catch (error) {
    console.error(error);
  }
}

getMeals();



</script>
</html>